---
import CollapsibleWidget from "./CollapsibleWidget.astro";
import ButtonTag from "../control/ButtonTag.astro";
import { getTagList } from "../../utils/content-utils";
import { i18n } from "../../i18n/translation";
import I18nKey from "../../i18n/i18nKey";
import { url } from "../../utils/url-utils";

const tags = await getTagList();

interface Props {
  class?: string;
  style?: string;
}
const className = Astro.props.class;
const style = Astro.props.style;
---

<CollapsibleWidget
  title={i18n(I18nKey.tags)}
  id="tags"
  class={className}
  style={style}
>
  <div class="flex gap-1 flex-wrap">
    {
      tags.slice(0, 12).map((t) => (
        <ButtonTag
          href={url(`/archive/tag/${t.name}/`)}
          label={`View all posts with the ${t.name} tag`}
        >
          {t.name}
        </ButtonTag>
      ))
    }
  </div>
</CollapsibleWidget>
